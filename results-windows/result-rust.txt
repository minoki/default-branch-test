Rust default / Ivy Bridge
f64::mul_add(3273390607896148000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, 3477977520889651000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, 0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005): Expected 11384778951354112000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, but got 11384778951354110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.

f64::mul_add(3273390607896142600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, 4910085911844213000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, -0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005): Expected 16072629107794012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, but got 16072629107794015000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.

f64::mul_add(26815615660093287000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, 6703904014919275000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, -0.000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005): Expected 179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000, but got inf.

f32::mul_add(64580610000000000000000000000000000000, 0.000000000000000000000000000000000000000000493, 0.000000000000000000000000000000000000000000001): Expected 0.000031854845, but got 0.00003185484.

f32::mul_add(1125901000000000, 1196268700000000, 0.000000000000000000000000000000000000000000001): Expected 1346880100000000000000000000000, but got 1346880000000000000000000000000.

f32::mul_add(1125900000000000, 1688849900000000, -0.000000000000000000000000000000000000000000001): Expected 1901476000000000000000000000000, but got 1901476200000000000000000000000.

f32::mul_add(24.233757, -581537250000000000000000000000000000, -0.30102932): Expected -14092833000000000000000000000000000000, but got -14092832000000000000000000000000000000.

---
Rust default / Haswell
All tests passed for f64::mul_add
All tests passed for f32::mul_add
---
Rust target-feature=+fma / Ivy Bridge
TID 0 SDE-ERROR: Executed instruction not valid for specified chip (IVYBRIDGE): 0x7ff618251089: vfmadd213sd xmm0, xmm2, xmm3
Image: test-rust-with-fma.exe+0x1089
Instruction bytes are: c4 e2 e9 a9 c3 

---
Rust target-feature=+fma / Haswell
All tests passed for f64::mul_add
All tests passed for f32::mul_add
